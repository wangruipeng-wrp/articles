<h1>Dockerfile</h1>

> 《掘金小册-开发者必备的 Docker 实践指南》学习笔记

Dockerfile 是 Docker 中用于定义镜像自动化构建流程的配置文件，在 Dockerfile 中，包含了构建镜像过程中需要执行的命令和其他操作。

通常来说，我们对 Dockerfile 的定义就是针对一个名为 Dockerfile 的文件，其虽然没有扩展名，但本质就是一个文本文件，所以我们可以通过常见的文本编辑器或者 IDE 创建和编辑它。

Dockerfile 的内容很简单，主要以两种形式呈现，一种是注释行，另一种是指令行。

```Dockerfile
# Comment

INSTRUCTION arguments
```

# Dockerfile 的结构

总体上来说，我们可以将 Dockerfile 理解为一个由上往下执行指令的脚本文件。当我们调用构建命令让 Docker 通过我们给出的 Dockerfile 构建镜像时，Docker 会逐一按顺序解析 Dockerfile 中的指令，并根据它们不同的含义执行不同的操作。

如果进行细分，我们可以将 Dockerfile 的指令简单分为五大类。

- **基础指令：** 用于定义新镜像的基础和性质。
- **控制指令：** 是指导镜像构建的核心部分，用于描述镜像在构建过程中需要执行的命令。
- **引入指令：** 用于将外部文件直接引入到构建镜像内部。
- **执行指令：** 能够为基于镜像所创建的容器，指定在启动时需要执行的脚本或命令。
- **配置指令：** 对镜像以及基于镜像所创建的容器，可以通过配置指令对其网络、用户等内容进行配置。

